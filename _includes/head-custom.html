<script type="module">
  import mermaid from 'https://cdn.jsdelivr.net/npm/mermaid@11/dist/mermaid.esm.min.mjs';
  mermaid.initialize({ startOnLoad: true, theme: 'neutral' });
  await mermaid.run({ querySelector: 'code.language-mermaid' });
</script>

<style>
  :root {
    /* Tunables */
    --btn-width: 320px;                  /* make both buttons same/wider width */
    --btn-bg: #dbeafe;                   /* light blue (like screenshot) */
    --btn-bg-hover: #c7d2fe;             /* slightly darker on hover */
    --btn-fg: #0f172a;                   /* dark text, unchanged on hover */
    --btn-border: rgba(2, 6, 23, 0.08);  /* subtle border */
    --btn-shadow: 0 1px 2px rgba(2,6,23,.08), 0 4px 10px rgba(2,6,23,.06);
    --btn-shadow-hover: 0 2px 4px rgba(2,6,23,.10), 0 6px 14px rgba(2,6,23,.08);
  }
  @media (prefers-color-scheme: dark) {
    :root {
      --btn-bg: #1f2937;        /* neutral dark surface */
      --btn-bg-hover: #273244;  /* slight hover tint */
      --btn-fg: #e5e7eb;        /* light text, unchanged on hover */
      --btn-border: rgba(255,255,255,.12);
      --btn-shadow: 0 1px 2px rgba(0,0,0,.4), 0 4px 10px rgba(0,0,0,.35);
      --btn-shadow-hover: 0 2px 6px rgba(0,0,0,.45), 0 8px 16px rgba(0,0,0,.4);
    }
  }

  .issue-fab {
    position: fixed;
    inset-inline-end: 16px;
    inset-block-end: calc(16px + env(safe-area-inset-bottom, 0));
    display: inline-flex;
    align-items: center;
    justify-content: center;
    gap: 10px;
    width: var(--btn-width);
    padding: 14px 18px;
    border-radius: 9999px;
    background-color: var(--btn-bg);
    color: var(--btn-fg);
    text-decoration: none;
    border: 1px solid var(--btn-border);
    box-shadow: var(--btn-shadow);
    z-index: 9999;
    transition: background-color .15s ease, box-shadow .15s ease, transform .08s ease;
    will-change: background-color, box-shadow, transform;
  }
  .issue-fab:hover {
    background-color: var(--btn-bg-hover); /* text color intentionally unchanged */
    box-shadow: var(--btn-shadow-hover);
    transform: translateY(-1px);
  }
  .issue-fab:active { transform: translateY(0); }
  .issue-fab:focus-visible {
    outline: 3px solid rgba(59,130,246,.35);
    outline-offset: 2px;
  }

  /* Stack the second button above the first */
  .issue-fab--docs {
    inset-block-end: calc(74px + env(safe-area-inset-bottom, 0));
  }

  .issue-fab__label {
    font: 15px/1.2 system-ui, -apple-system, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
    white-space: nowrap;
  }
  .issue-fab__icon {
    font-size: 1.05em;
    line-height: 1;
  }

  /* Keep labels visible on small screens since the screenshot shows text */
  @media (max-width: 420px) {
    :root { --btn-width: 92vw; }
    .issue-fab, .issue-fab--docs { inset-inline-end: 4vw; }
  }

  @media (prefers-reduced-motion: reduce) {
    .issue-fab { transition: none; }
    .issue-fab:hover { transform: none; }
  }
</style>

<script>
(function () {
  const base = "https://github.com/huangyingting/mcp-workshop/issues/new";

  // Code bug button
  const bugParams = new URLSearchParams({
    template: "bug_report.md",
    labels: "bug",
    title: "[Bug]: "
  });
  const bugBtn = document.createElement("a");
  bugBtn.href = base + "?" + bugParams.toString();
  bugBtn.target = "_blank";
  bugBtn.rel = "noopener";
  bugBtn.className = "issue-fab";
  bugBtn.ariaLabel = "Report a code bug";
  bugBtn.innerHTML = '<span class="issue-fab__label">Report bug</span><span class="issue-fab__icon" aria-hidden="true">→</span>';

  // Docs issue button (include source page)
  const docsParams = new URLSearchParams({
    template: "docs_issue.md",
    labels: "documentation",
    title: "[Docs]: ",
    body: "Source page: " + location.href + "\\n\\n"
  });
  const docsBtn = document.createElement("a");
  docsBtn.href = base + "?" + docsParams.toString();
  docsBtn.target = "_blank";
  docsBtn.rel = "noopener";
  docsBtn.className = "issue-fab issue-fab--docs";
  docsBtn.ariaLabel = "Report a documentation issue";
  docsBtn.innerHTML = '<span class="issue-fab__label">Docs issue</span><span class="issue-fab__icon" aria-hidden="true">→</span>';

  function add() {
    document.body.appendChild(bugBtn);
    document.body.appendChild(docsBtn);
  }
  if (document.readyState === "loading") {
    document.addEventListener("DOMContentLoaded", add);
  } else {
    add();
  }
})();
</script>